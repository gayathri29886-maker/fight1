<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Tournament Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f0f0;
        }

        .battle-bg {
            /* Placeholder for a battle background - Tournament Theme */
            background-image: url('https://placehold.co/1000x600/374151/f3f4f6?text=Tournament+Arena');
            background-size: cover;
            background-position: center;
        }

        /* Custom CSS for the HP bars and message box */
        .hp-bar-container {
            height: 12px;
            background-color: #333;
            border: 1px solid #111;
            border-radius: 9999px;
            position: relative;
        }

        .hp-bar {
            height: 100%;
            background-color: #6ee7b7; /* Green-300 */
            transition: width 0.5s ease-in-out;
            border-radius: 9999px;
        }

        .hp-bar.low-health {
            background-color: #fca5a5; /* Red-300 */
        }
        
        .message-box {
            background-color: #1a202c; /* Gray-900 */
            border: 2px solid #4a5568; /* Gray-700 */
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            min-height: 100px;
        }

        .pokemon-img {
            image-rendering: pixelated;
        }

        .pokemon-card {
            cursor: pointer;
            border: 3px solid transparent;
            transition: border-color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }

        .pokemon-card.selected {
            border-color: #3b82f6;
            transform: scale(1.05);
        }

        .pokemon-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Style for the search bar */
        #pokemon-search {
            background-color: #4a5568; /* Gray-700 */
            border: 2px solid #718096; /* Gray-500 */
            color: white;
            border-radius: 8px;
            padding: 10px 16px;
            font-size: 1rem;
            width: 100%;
            max-width: 500px; /* Limit search bar width */
            margin-bottom: 24px; /* Space between search and grid */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        #pokemon-search::placeholder {
            color: #a0aec0; /* Gray-400 */
        }
        
        #pokemon-search:focus {
            outline: none;
            border-color: #3b82f6; /* Blue-500 */
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
        }

        /* Sprite animations */
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body class="bg-gray-800 text-white flex flex-col items-center justify-center min-h-screen p-4">
    <main class="w-full max-w-4xl flex flex-col items-center">

        <div id="start-screen" class="w-full text-center flex flex-col items-center">
            <h1 id="selection-heading" class="text-4xl font-bold mb-8">Choose Your Pokémon for the Tournament!</h1>
            
            <input type="text" id="pokemon-search" placeholder="Search for a Pokémon...">
            
            <div id="pokemon-selection" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 justify-items-center max-h-[60vh] overflow-y-auto p-2 w-full">
                </div>
            <button id="start-battle-button" class="mt-8 px-8 py-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg shadow-lg transition-colors duration-200 hidden">
                Begin Round 1!
            </button>
        </div>

        <div id="battle-screen" class="w-full max-w-4xl flex-col items-center hidden">
            <div id="tournament-header" class="w-full max-w-[800px] bg-yellow-500 text-gray-900 font-extrabold text-2xl text-center py-3 mb-4 rounded-xl shadow-lg">
                <span id="round-info">ROUND 1</span> - Opponent Level: <span id="opponent-level-range"></span>
            </div>
            
            <div class="battle-bg w-full aspect-[4/3] max-w-[800px] bg-gray-900 rounded-2xl shadow-2xl p-6 flex flex-col justify-between">

                <div class="flex justify-end p-4">
                    <div class="bg-gray-700 bg-opacity-80 backdrop-blur-sm p-4 rounded-xl shadow-lg w-full max-w-xs transition-opacity duration-300 ease-in-out" id="opponent-ui">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xl font-bold" id="opponent-name"></span>
                            <span class="text-lg font-bold">Lv.<span id="opponent-level"></span></span>
                        </div>
                        <div class="hp-bar-container">
                            <div class="hp-bar" id="opponent-hp-bar"></div>
                        </div>
                        <div class="text-right text-sm font-semibold mt-1">
                            <span id="opponent-current-hp"></span>/<span id="opponent-max-hp"></span> HP
                        </div>
                    </div>
                </div>

                <div class="flex justify-between items-end px-8">
                    <img id="player-sprite" class="pokemon-img w-36 h-36 md:w-48 md:h-48 transition-all duration-300 ease-in-out transform -translate-x-12" src="" alt="Player Pokémon">
                    <img id="opponent-sprite" class="pokemon-img w-36 h-36 md:w-48 md:h-48 transition-all duration-300 ease-in-out transform translate-x-12" src="" alt="Opponent Pokémon">
                </div>

                <div class="flex justify-start p-4">
                    <div class="bg-gray-700 bg-opacity-80 backdrop-blur-sm p-4 rounded-xl shadow-lg w-full max-w-xs transition-opacity duration-300 ease-in-out" id="player-ui">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xl font-bold" id="player-name"></span>
                            <span class="text-lg font-bold">Lv.<span id="player-level"></span></span>
                        </div>
                        <div class="hp-bar-container">
                            <div class="hp-bar" id="player-hp-bar"></div>
                        </div>
                        <div class="text-right text-sm font-semibold mt-1">
                            <span id="player-current-hp"></span>/<span id="player-max-hp"></span> HP
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-gray-900 message-box mt-4 p-6 rounded-2xl w-full max-w-4xl shadow-2xl flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0 md:space-x-4">
                <div id="message" class="text-lg text-center md:text-left flex-grow font-semibold text-gray-200">
                    What will your Pokémon do?
                </div>

                <div id="actions-container" class="grid grid-cols-2 gap-4 w-full md:w-auto">
                    </div>

                <div id="continue-container" class="hidden flex space-x-4">
                    <button id="continue-button" class="w-full md:w-auto px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-lg transition-colors duration-200">Next Round</button>
                    <button id="restart-button-mid-tournament" class="w-full md:w-auto px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg shadow-lg transition-colors duration-200">Restart Tournament</button>
                </div>

                <div id="tournament-end-container" class="hidden">
                    <button id="restart-button-end" class="w-full md:w-auto px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg shadow-lg transition-colors duration-200">Start New Tournament</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        // --- 200 Pokémon Roster Data (Unchanged from original code) ---
        const pokemonData = [
            // --- KANTO (GEN 1) ---
            { id: 1, name: 'Bulbasaur', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Vine Whip', damage: 25 }, { name: 'Growl', damage: 0 }] },
            { id: 2, name: 'Ivysaur', level: 40, health: 140, maxHealth: 140, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/2.png', moves: [{ name: 'Vine Whip', damage: 30 }, { name: 'Razor Leaf', damage: 40 }, { name: 'Sleep Powder', damage: 0 }] },
            { id: 3, name: 'Venusaur', level: 55, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/3.png', moves: [{ name: 'Razor Leaf', damage: 40 }, { name: 'Solar Beam', damage: 70 }, { name: 'Earthquake', damage: 60 }, { name: 'Sludge Bomb', damage: 50 }] },
            { id: 4, name: 'Charmander', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/4.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Ember', damage: 20 }, { name: 'Smokescreen', damage: 0 }] },
            { id: 5, name: 'Charmeleon', level: 40, health: 130, maxHealth: 130, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/5.png', moves: [{ name: 'Ember', damage: 25 }, { name: 'Fire Fang', damage: 35 }, { name: 'Flamethrower', damage: 55 }] },
            { id: 6, name: 'Charizard', level: 60, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/6.png', moves: [{ name: 'Flamethrower', damage: 55 }, { name: 'Dragon Claw', damage: 45 }, { name: 'Air Slash', damage: 60 }, { name: 'Heat Wave', damage: 50 }] },
            { id: 7, name: 'Squirtle', level: 30, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/7.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Water Gun', damage: 25 }, { name: 'Withdraw', damage: -10 }] },
            { id: 8, name: 'Wartortle', level: 40, health: 150, maxHealth: 150, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/8.png', moves: [{ name: 'Water Pulse', damage: 35 }, { name: 'Bubble Beam', damage: 30 }, { name: 'Aqua Jet', damage: 20 }] },
            { id: 9, name: 'Blastoise', level: 52, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/9.png', moves: [{ name: 'Hydro Pump', damage: 50 }, { name: 'Aqua Jet', damage: 25 }, { name: 'Skull Bash', damage: 45 }, { name: 'Flash Cannon', damage: 55 }] },
            { id: 10, name: 'Caterpie', level: 10, health: 60, maxHealth: 60, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/10.png', moves: [{ name: 'Tackle', damage: 10 }, { name: 'String Shot', damage: 0 }] },
            { id: 12, name: 'Butterfree', level: 45, health: 160, maxHealth: 160, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/12.png', moves: [{ name: 'Air Slash', damage: 40 }, { name: 'Sleep Powder', damage: 0 }, { name: 'Bug Buzz', damage: 50 }] },
            { id: 16, name: 'Pidgey', level: 12, health: 70, maxHealth: 70, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/16.png', moves: [{ name: 'Tackle', damage: 10 }, { name: 'Gust', damage: 15 }] },
            { id: 18, name: 'Pidgeot', level: 50, health: 180, maxHealth: 180, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/18.png', moves: [{ name: 'Air Slash', damage: 50 }, { name: 'Brave Bird', damage: 70 }, { name: 'Hurricane', damage: 60 }] },
            { id: 25, name: 'Pikachu', level: 50, health: 150, maxHealth: 150, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/25.png', moves: [{ name: 'Thunderbolt', damage: 40 }, { name: 'Quick Attack', damage: 25 }, { name: 'Iron Tail', damage: 55 }, { name: 'Volt Tackle', damage: 60 }] },
            { id: 26, name: 'Raichu', level: 58, health: 170, maxHealth: 170, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/26.png', moves: [{ name: 'Thunderbolt', damage: 60 }, { name: 'Volt Tackle', damage: 70 }, { name: 'Surf', damage: 45 }, { name: 'Quick Attack', damage: 30 }] },
            { id: 52, name: 'Meowth', level: 25, health: 80, maxHealth: 80, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/52.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Bite', damage: 20 }] },
            { id: 53, name: 'Persian', level: 48, health: 150, maxHealth: 150, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/53.png', moves: [{ name: 'Foul Play', damage: 50 }, { name: 'Power Gem', damage: 45 }, { name: 'Play Rough', damage: 55 }] },
            { id: 58, name: 'Growlithe', level: 35, health: 120, maxHealth: 120, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/58.png', moves: [{ name: 'Ember', damage: 20 }, { name: 'Fire Fang', damage: 30 }] },
            { id: 59, name: 'Arcanine', level: 58, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/59.png', moves: [{ name: 'Flare Blitz', damage: 65 }, { name: 'Extreme Speed', damage: 50 }, { name: 'Crunch', damage: 40 }, { name: 'Flamethrower', damage: 55 }] },
            { id: 63, name: 'Abra', level: 10, health: 50, maxHealth: 50, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/63.png', moves: [{ name: 'Teleport', damage: 0 }, { name: 'Psyshock', damage: 10 }] },
            { id: 65, name: 'Alakazam', level: 62, health: 120, maxHealth: 120, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/65.png', moves: [{ name: 'Psychic', damage: 70 }, { name: 'Psybeam', damage: 40 }, { name: 'Confusion', damage: 25 }, { name: 'Focus Blast', damage: 80 }] },
            { id: 74, name: 'Geodude', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/74.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Rock Throw', damage: 25 }] },
            { id: 76, name: 'Golem', level: 54, health: 210, maxHealth: 210, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/76.png', moves: [{ name: 'Earthquake', damage: 70 }, { name: 'Stone Edge', damage: 60 }, { name: 'Rock Blast', damage: 40 }, { name: 'Heavy Slam', damage: 55 }] },
            { id: 92, name: 'Gastly', level: 28, health: 80, maxHealth: 80, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/92.png', moves: [{ name: 'Lick', damage: 15 }, { name: 'Confuse Ray', damage: 0 }] },
            { id: 93, name: 'Haunter', level: 42, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/93.png', moves: [{ name: 'Shadow Punch', damage: 30 }, { name: 'Night Shade', damage: 40 }, { name: 'Sucker Punch', damage: 45 }] },
            { id: 94, name: 'Gengar', level: 58, health: 140, maxHealth: 140, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/94.png', moves: [{ name: 'Shadow Ball', damage: 45 }, { name: 'Dream Eater', damage: 70 }, { name: 'Sludge Bomb', damage: 55 }, { name: 'Draining Kiss', damage: -20 }] },
            { id: 130, name: 'Gyarados', level: 60, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/130.png', moves: [{ name: 'Hydro Pump', damage: 60 }, { name: 'Dragon Tail', damage: 45 }, { name: 'Bite', damage: 30 }, { name: 'Hyper Beam', damage: 85 }] },
            { id: 131, name: 'Lapras', level: 57, health: 230, maxHealth: 230, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/131.png', moves: [{ name: 'Ice Beam', damage: 55 }, { name: 'Surf', damage: 50 }, { name: 'Body Slam', damage: 40 }, { name: 'Hydro Pump', damage: 65 }] },
            { id: 133, name: 'Eevee', level: 20, health: 80, maxHealth: 80, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/133.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Quick Attack', damage: 20 }] },
            { id: 134, name: 'Vaporeon', level: 50, health: 210, maxHealth: 210, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/134.png', moves: [{ name: 'Water Gun', damage: 30 }, { name: 'Hydro Pump', damage: 70 }, { name: 'Acid Armor', damage: -20 }, { name: 'Surf', damage: 50 }] },
            { id: 135, name: 'Jolteon', level: 50, health: 130, maxHealth: 130, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/135.png', moves: [{ name: 'Thunder', damage: 60 }, { name: 'Pin Missile', damage: 30 }, { name: 'Double Kick', damage: 25 }, { name: 'Thunder Wave', damage: 0 }] },
            { id: 136, name: 'Flareon', level: 50, health: 145, maxHealth: 145, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/136.png', moves: [{ name: 'Fire Spin', damage: 35 }, { name: 'Flamethrower', damage: 50 }, { name: 'Overheat', damage: 80 }, { name: 'Crunch', damage: 40 }] },
            { id: 143, name: 'Snorlax', level: 60, health: 250, maxHealth: 250, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/143.png', moves: [{ name: 'Body Slam', damage: 60 }, { name: 'Heavy Slam', damage: 55 }, { name: 'Rest', damage: -100 }, { name: 'Hyper Beam', damage: 80 }] },
            { id: 147, name: 'Dratini', level: 35, health: 120, maxHealth: 120, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/147.png', moves: [{ name: 'Wrap', damage: 15 }, { name: 'Twister', damage: 20 }] },
            { id: 148, name: 'Dragonair', level: 50, health: 180, maxHealth: 180, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/148.png', moves: [{ name: 'Dragon Breath', damage: 35 }, { name: 'Aqua Tail', damage: 50 }, { name: 'Hyper Beam', damage: 60 }] },
            { id: 149, name: 'Dragonite', level: 65, health: 240, maxHealth: 240, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/149.png', moves: [{ name: 'Dragon Claw', damage: 50 }, { name: 'Hurricane', damage: 65 }, { name: 'Hyper Beam', damage: 90 }, { name: 'Outrage', damage: 75 }] },
            { id: 150, name: 'Mewtwo', level: 80, health: 300, maxHealth: 300, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/150.png', moves: [{ name: 'Psychic', damage: 80 }, { name: 'Shadow Ball', damage: 65 }, { name: 'Psystrike', damage: 90 }, { name: 'Aura Sphere', damage: 75 }] },
            
            // --- JOHTO (GEN 2) ---
            { id: 152, name: 'Chikorita', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/152.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Razor Leaf', damage: 25 }] },
            { id: 154, name: 'Meganium', level: 55, health: 210, maxHealth: 210, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/154.png', moves: [{ name: 'Frenzy Plant', damage: 75 }, { name: 'Earthquake', damage: 60 }, { name: 'Synthesis', damage: -40 }] },
            { id: 155, name: 'Cyndaquil', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/155.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 157, name: 'Typhlosion', level: 55, health: 210, maxHealth: 210, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/157.png', moves: [{ name: 'Fire Blast', damage: 65 }, { name: 'Eruption', damage: 75 }, { name: 'Quick Attack', damage: 30 }, { name: 'Blast Burn', damage: 90 }] },
            { id: 158, name: 'Totodile', level: 30, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/158.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Water Gun', damage: 25 }] },
            { id: 160, name: 'Feraligatr', level: 55, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/160.png', moves: [{ name: 'Hydro Pump', damage: 65 }, { name: 'Crunch', damage: 50 }, { name: 'Ice Fang', damage: 40 }, { name: 'Superpower', damage: 70 }] },
            { id: 172, name: 'Pichu', level: 15, health: 70, maxHealth: 70, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/172.png', moves: [{ name: 'Thundershock', damage: 15 }, { name: 'Charm', damage: 0 }] },
            { id: 181, name: 'Ampharos', level: 53, health: 190, maxHealth: 190, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/181.png', moves: [{ name: 'Thunderbolt', damage: 60 }, { name: 'Focus Blast', damage: 70 }, { name: 'Power Gem', damage: 55 }, { name: 'Thunder Wave', damage: 0 }] },
            { id: 196, name: 'Espeon', level: 50, health: 180, maxHealth: 180, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/196.png', moves: [{ name: 'Psychic', damage: 65 }, { name: 'Future Sight', damage: 75 }, { name: 'Shadow Ball', damage: 60 }, { name: 'Dazzling Gleam', damage: 50 }] },
            { id: 197, name: 'Umbreon', level: 50, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/197.png', moves: [{ name: 'Foul Play', damage: 60 }, { name: 'Dark Pulse', damage: 55 }, { name: 'Wish', damage: -50 }, { name: 'Quick Attack', damage: 30 }] },
            { id: 246, name: 'Larvitar', level: 35, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/246.png', moves: [{ name: 'Bite', damage: 20 }, { name: 'Rock Slide', damage: 30 }] },
            { id: 247, name: 'Pupitar', level: 48, health: 160, maxHealth: 160, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/247.png', moves: [{ name: 'Crunch', damage: 40 }, { name: 'Iron Defense', damage: -20 }] },
            { id: 248, name: 'Tyranitar', level: 68, health: 260, maxHealth: 260, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/248.png', moves: [{ name: 'Stone Edge', damage: 75 }, { name: 'Crunch', damage: 60 }, { name: 'Earthquake', damage: 70 }, { name: 'Hyper Beam', damage: 90 }] },
            { id: 249, name: 'Lugia', level: 75, health: 310, maxHealth: 310, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/249.png', moves: [{ name: 'Aeroblast', damage: 90 }, { name: 'Psychic', damage: 75 }, { name: 'Hydro Pump', damage: 70 }, { name: 'Future Sight', damage: 80 }] },
            { id: 250, name: 'Ho-Oh', level: 75, health: 300, maxHealth: 300, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/250.png', moves: [{ name: 'Sacred Fire', damage: 90 }, { name: 'Brave Bird', damage: 80 }, { name: 'Flamethrower', damage: 65 }, { name: 'Sky Attack', damage: 75 }] },

            // --- HOENN (GEN 3) ---
            { id: 252, name: 'Treecko', level: 30, health: 95, maxHealth: 95, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/252.png', moves: [{ name: 'Pound', damage: 15 }, { name: 'Absorb', damage: -10 }] },
            { id: 254, name: 'Sceptile', level: 55, health: 190, maxHealth: 190, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/254.png', moves: [{ name: 'Leaf Blade', damage: 65 }, { name: 'Dragon Claw', damage: 50 }, { name: 'Acrobatics', damage: 55 }, { name: 'Giga Drain', damage: -30 }] },
            { id: 255, name: 'Torchic', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/255.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 257, name: 'Blaziken', level: 63, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/257.png', moves: [{ name: 'Blaze Kick', damage: 60 }, { name: 'Flare Blitz', damage: 75 }, { name: 'Sky Uppercut', damage: 50 }, { name: 'High Jump Kick', damage: 65 }] },
            { id: 258, name: 'Mudkip', level: 30, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/258.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Water Gun', damage: 25 }] },
            { id: 260, name: 'Swampert', level: 55, health: 230, maxHealth: 230, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/260.png', moves: [{ name: 'Hydro Pump', damage: 65 }, { name: 'Earthquake', damage: 70 }, { name: 'Ice Punch', damage: 50 }, { name: 'Slam', damage: 45 }] },
            { id: 280, name: 'Ralts', level: 25, health: 80, maxHealth: 80, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/280.png', moves: [{ name: 'Confusion', damage: 15 }, { name: 'Disarming Voice', damage: 20 }] },
            { id: 282, name: 'Gardevoir', level: 58, health: 170, maxHealth: 170, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/282.png', moves: [{ name: 'Psychic', damage: 65 }, { name: 'Moonblast', damage: 70 }, { name: 'Shadow Ball', damage: 55 }, { name: 'Will-O-Wisp', damage: 0 }] },
            { id: 371, name: 'Bagon', level: 35, health: 120, maxHealth: 120, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/371.png', moves: [{ name: 'Bite', damage: 20 }, { name: 'Headbutt', damage: 25 }] },
            { id: 373, name: 'Salamence', level: 65, health: 240, maxHealth: 240, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/373.png', moves: [{ name: 'Outrage', damage: 75 }, { name: 'Flamethrower', damage: 60 }, { name: 'Dragon Claw', damage: 50 }, { name: 'Hydro Pump', damage: 65 }] },
            { id: 374, name: 'Beldum', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/374.png', moves: [{ name: 'Take Down', damage: 20 }, { name: 'Iron Defense', damage: -10 }] },
            { id: 376, name: 'Metagross', level: 62, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/376.png', moves: [{ name: 'Meteor Mash', damage: 65 }, { name: 'Zen Headbutt', damage: 55 }, { name: 'Hammer Arm', damage: 60 }, { name: 'Bullet Punch', damage: 40 }] },
            { id: 382, name: 'Kyogre', level: 85, health: 350, maxHealth: 350, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/382.png', moves: [{ name: 'Origin Pulse', damage: 100 }, { name: 'Hydro Pump', damage: 80 }, { name: 'Ice Beam', damage: 70 }, { name: 'Thunder', damage: 75 }] },
            { id: 383, name: 'Groudon', level: 85, health: 350, maxHealth: 350, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/383.png', moves: [{ name: 'Precipice Blades', damage: 100 }, { name: 'Earthquake', damage: 80 }, { name: 'Fire Punch', damage: 70 }, { name: 'Stone Edge', damage: 75 }] },
            { id: 384, name: 'Rayquaza', level: 80, health: 320, maxHealth: 320, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/384.png', moves: [{ name: 'Dragon Ascent', damage: 100 }, { name: 'Outrage', damage: 85 }, { name: 'Flamethrower', damage: 70 }, { name: 'Extreme Speed', damage: 75 }] },

            // --- SINNOH (GEN 4) ---
            { id: 387, name: 'Turtwig', level: 30, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/387.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Razor Leaf', damage: 25 }] },
            { id: 389, name: 'Torterra', level: 55, health: 240, maxHealth: 240, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/389.png', moves: [{ name: 'Leaf Storm', damage: 70 }, { name: 'Earthquake', damage: 75 }, { name: 'Stone Edge', damage: 60 }, { name: 'Wood Hammer', damage: 65 }] },
            { id: 390, name: 'Chimchar', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/390.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 392, name: 'Infernape', level: 55, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/392.png', moves: [{ name: 'Flare Blitz', damage: 70 }, { name: 'Close Combat', damage: 75 }, { name: 'Acrobatics', damage: 55 }, { name: 'Mach Punch', damage: 30 }] },
            { id: 393, name: 'Piplup', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/393.png', moves: [{ name: 'Pound', damage: 15 }, { name: 'Bubble', damage: 20 }] },
            { id: 395, name: 'Empoleon', level: 55, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/395.png', moves: [{ name: 'Hydro Pump', damage: 65 }, { name: 'Flash Cannon', damage: 60 }, { name: 'Drill Peck', damage: 50 }, { name: 'Aqua Jet', damage: 30 }] },
            { id: 443, name: 'Gible', level: 32, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/443.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Dragon Rage', damage: 30 }] },
            { id: 444, name: 'Gabite', level: 45, health: 160, maxHealth: 160, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/444.png', moves: [{ name: 'Dragon Claw', damage: 45 }, { name: 'Dig', damage: 50 }, { name: 'Bide', damage: 0 }] },
            { id: 445, name: 'Garchomp', level: 68, health: 250, maxHealth: 250, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/445.png', moves: [{ name: 'Earthquake', damage: 75 }, { name: 'Dragon Rush', damage: 80 }, { name: 'Stone Edge', damage: 60 }, { name: 'Crunch', damage: 50 }] },
            { id: 470, name: 'Leafeon', level: 50, health: 185, maxHealth: 185, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/470.png', moves: [{ name: 'Leaf Blade', damage: 60 }, { name: 'X-Scissor', damage: 50 }, { name: 'Swords Dance', damage: 0 }, { name: 'Razor Leaf', damage: 40 }] },
            { id: 471, name: 'Glaceon', level: 50, health: 160, maxHealth: 160, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/471.png', moves: [{ name: 'Blizzard', damage: 70 }, { name: 'Ice Beam', damage: 55 }, { name: 'Shadow Ball', damage: 45 }, { name: 'Water Pulse', damage: 35 }] },
            { id: 483, name: 'Dialga', level: 80, health: 330, maxHealth: 330, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/483.png', moves: [{ name: 'Roar of Time', damage: 100 }, { name: 'Flash Cannon', damage: 70 }, { name: 'Earth Power', damage: 75 }, { name: 'Iron Tail', damage: 65 }] },
            { id: 484, name: 'Palkia', level: 80, health: 330, maxHealth: 330, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/484.png', moves: [{ name: 'Spacial Rend', damage: 100 }, { name: 'Hydro Pump', damage: 70 }, { name: 'Aura Sphere', damage: 75 }, { name: 'Dragon Claw', damage: 65 }] },
            
            // --- UNOVA (GEN 5) ---
            { id: 495, name: 'Snivy', level: 30, health: 95, maxHealth: 95, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/495.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Leaf Tornado', damage: 25 }] },
            { id: 497, name: 'Serperior', level: 55, health: 190, maxHealth: 190, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/497.png', moves: [{ name: 'Leaf Storm', damage: 70 }, { name: 'Frenzy Plant', damage: 75 }, { name: 'Aqua Tail', damage: 50 }, { name: 'Coil', damage: -20 }] },
            { id: 498, name: 'Tepig', level: 30, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/498.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 500, name: 'Emboar', level: 55, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/500.png', moves: [{ name: 'Flare Blitz', damage: 70 }, { name: 'Heat Crash', damage: 65 }, { name: 'Hammer Arm', damage: 60 }, { name: 'Aura Sphere', damage: 55 }] },
            { id: 501, name: 'Oshawott', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/501.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Water Gun', damage: 25 }] },
            { id: 503, name: 'Samurott', level: 55, health: 210, maxHealth: 210, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/503.png', moves: [{ name: 'Hydro Pump', damage: 65 }, { name: 'Aqua Jet', damage: 30 }, { name: 'Megahorn', damage: 70 }, { name: 'Ice Beam', damage: 55 }] },
            { id: 609, name: 'Chandelure', level: 60, health: 160, maxHealth: 160, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/609.png', moves: [{ name: 'Shadow Ball', damage: 60 }, { name: 'Flamethrower', damage: 55 }, { name: 'Energy Ball', damage: 50 }, { name: 'Inferno', damage: 70 }] },
            { id: 635, name: 'Hydreigon', level: 68, health: 250, maxHealth: 250, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/635.png', moves: [{ name: 'Dark Pulse', damage: 60 }, { name: 'Draco Meteor', damage: 85 }, { name: 'Fire Blast', damage: 70 }, { name: 'Flash Cannon', damage: 65 }] },
            { id: 643, name: 'Reshiram', level: 85, health: 340, maxHealth: 340, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/643.png', moves: [{ name: 'Blue Flare', damage: 100 }, { name: 'Fusion Flare', damage: 90 }, { name: 'Draco Meteor', damage: 80 }, { name: 'Flamethrower', damage: 70 }] },
            { id: 644, name: 'Zekrom', level: 85, health: 340, maxHealth: 340, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/644.png', moves: [{ name: 'Bolt Strike', damage: 100 }, { name: 'Fusion Bolt', damage: 90 }, { name: 'Draco Meteor', damage: 80 }, { name: 'Thunderbolt', damage: 70 }] },
            
            // --- KALOS (GEN 6) ---
            { id: 650, name: 'Chespin', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/650.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Vine Whip', damage: 25 }] },
            { id: 652, name: 'Chesnaught', level: 55, health: 230, maxHealth: 230, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/652.png', moves: [{ name: 'Wood Hammer', damage: 70 }, { name: 'Close Combat', damage: 75 }, { name: 'Spiky Shield', damage: 0 }, { name: 'Stone Edge', damage: 60 }] },
            { id: 653, name: 'Fennekin', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/653.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 655, name: 'Delphox', level: 55, health: 180, maxHealth: 180, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/655.png', moves: [{ name: 'Fire Blast', damage: 65 }, { name: 'Psychic', damage: 60 }, { name: 'Shadow Ball', damage: 50 }, { name: 'Mystical Fire', damage: 55 }] },
            { id: 656, name: 'Froakie', level: 30, health: 95, maxHealth: 95, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/656.png', moves: [{ name: 'Pound', damage: 15 }, { name: 'Bubble', damage: 20 }] },
            { id: 658, name: 'Greninja', level: 60, health: 170, maxHealth: 170, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/658.png', moves: [{ name: 'Hydro Pump', damage: 65 }, { name: 'Dark Pulse', damage: 60 }, { name: 'Night Slash', damage: 50 }, { name: 'Water Shuriken', damage: 30 }] },
            { id: 700, name: 'Sylveon', level: 50, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/700.png', moves: [{ name: 'Moonblast', damage: 65 }, { name: 'Draining Kiss', damage: -30 }, { name: 'Psyshock', damage: 55 }, { name: 'Shadow Ball', damage: 45 }] },
            
            // --- ALOLA (GEN 7) ---
            { id: 722, name: 'Rowlet', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/722.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Leafage', damage: 20 }] },
            { id: 724, name: 'Decidueye', level: 55, health: 185, maxHealth: 185, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/724.png', moves: [{ name: 'Spirit Shackle', damage: 65 }, { name: 'Leaf Blade', damage: 60 }, { name: 'Brave Bird', damage: 70 }, { name: 'Acrobatics', damage: 55 }] },
            { id: 725, name: 'Litten', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/725.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 727, name: 'Incineroar', level: 60, health: 230, maxHealth: 230, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/727.png', moves: [{ name: 'Darkest Lariat', damage: 70 }, { name: 'Flare Blitz', damage: 75 }, { name: 'Cross Chop', damage: 60 }, { name: 'Bulk Up', damage: 0 }] },
            { id: 728, name: 'Popplio', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/728.png', moves: [{ name: 'Pound', damage: 15 }, { name: 'Water Gun', damage: 25 }] },
            { id: 730, name: 'Primarina', level: 58, health: 190, maxHealth: 190, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/730.png', moves: [{ name: 'Sparkling Aria', damage: 65 }, { name: 'Moonblast', damage: 70 }, { name: 'Hydro Pump', damage: 60 }, { name: 'Ice Beam', damage: 55 }] },
            { id: 778, name: 'Mimikyu', level: 50, health: 150, maxHealth: 150, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/778.png', moves: [{ name: 'Shadow Claw', damage: 50 }, { name: 'Play Rough', damage: 55 }, { name: 'Drain Punch', damage: -30 }, { name: 'Shadow Sneak', damage: 30 }] },
            { id: 792, name: 'Lunala', level: 80, health: 360, maxHealth: 360, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/792.png', moves: [{ name: 'Shadow Beam', damage: 90 }, { name: 'Moonblast', damage: 70 }, { name: 'Psychic', damage: 75 }, { name: 'Focus Blast', damage: 80 }] },
            { id: 791, name: 'Solgaleo', level: 80, health: 360, maxHealth: 360, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/791.png', moves: [{ name: 'Sunsteel Strike', damage: 90 }, { name: 'Zen Headbutt', damage: 70 }, { name: 'Flare Blitz', damage: 75 }, { name: 'Earthquake', damage: 80 }] },
            
            // --- GALAR (GEN 8) ---
            { id: 810, name: 'Grookey', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/810.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Branch Poke', damage: 20 }] },
            { id: 812, name: 'Rillaboom', level: 55, health: 230, maxHealth: 230, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/812.png', moves: [{ name: 'Drum Beating', damage: 70 }, { name: 'Wood Hammer', damage: 75 }, { name: 'Acrobatics', damage: 55 }, { name: 'Earthquake', damage: 60 }] },
            { id: 813, name: 'Scorbunny', level: 30, health: 90, maxHealth: 90, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/813.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 815, name: 'Cinderace', level: 60, health: 190, maxHealth: 190, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/815.png', moves: [{ name: 'Pyro Ball', damage: 75 }, { name: 'Sucker Punch', damage: 50 }, { name: 'Court Change', damage: 0 }, { name: 'High Jump Kick', damage: 65 }] },
            { id: 816, name: 'Sobble', level: 30, health: 95, maxHealth: 95, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/816.png', moves: [{ name: 'Pound', damage: 15 }, { name: 'Water Gun', damage: 25 }] },
            { id: 818, name: 'Inteleon', level: 58, health: 175, maxHealth: 175, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/818.png', moves: [{ name: 'Snipe Shot', damage: 60 }, { name: 'Hydro Pump', damage: 65 }, { name: 'Ice Beam', damage: 55 }, { name: 'U-turn', damage: 40 }] },
            { id: 887, name: 'Dragapult', level: 65, health: 220, maxHealth: 220, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/887.png', moves: [{ name: 'Phantom Force', damage: 70 }, { name: 'Draco Meteor', damage: 80 }, { name: 'Flamethrower', damage: 60 }, { name: 'U-turn', damage: 50 }] },
            { id: 888, name: 'Zacian', level: 85, health: 350, maxHealth: 350, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/888.png', moves: [{ name: 'Behemoth Blade', damage: 100 }, { name: 'Play Rough', damage: 75 }, { name: 'Iron Head', damage: 70 }, { name: 'Close Combat', damage: 80 }] },
            { id: 889, name: 'Zamazenta', level: 85, health: 370, maxHealth: 370, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/889.png', moves: [{ name: 'Behemoth Bash', damage: 100 }, { name: 'Moonblast', damage: 75 }, { name: 'Iron Head', damage: 70 }, { name: 'Close Combat', damage: 80 }] },
            
            // --- PALDEA (GEN 9) ---
            { id: 906, name: 'Sprigatito', level: 30, health: 95, maxHealth: 95, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/906.png', moves: [{ name: 'Scratch', damage: 15 }, { name: 'Leafage', damage: 20 }] },
            { id: 908, name: 'Meowscarada', level: 60, health: 180, maxHealth: 180, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/908.png', moves: [{ name: 'Flower Trick', damage: 70 }, { name: 'Night Slash', damage: 55 }, { name: 'U-turn', damage: 45 }, { name: 'Trick', damage: 0 }] },
            { id: 909, name: 'Fuecoco', level: 30, health: 110, maxHealth: 110, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/909.png', moves: [{ name: 'Tackle', damage: 15 }, { name: 'Ember', damage: 20 }] },
            { id: 911, name: 'Skeledirge', level: 62, health: 250, maxHealth: 250, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/911.png', moves: [{ name: 'Torch Song', damage: 65 }, { name: 'Shadow Ball', damage: 60 }, { name: 'Earth Power', damage: 55 }, { name: 'Slack Off', damage: -40 }] },
            { id: 912, name: 'Quaxly', level: 30, health: 100, maxHealth: 100, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/912.png', moves: [{ name: 'Pound', damage: 15 }, { name: 'Water Gun', damage: 25 }] },
            { id: 914, name: 'Quaquaval', level: 60, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/914.png', moves: [{ name: 'Aqua Step', damage: 60 }, { name: 'Close Combat', damage: 70 }, { name: 'Brave Bird', damage: 65 }, { name: 'Ice Spinner', damage: 55 }] },
            { id: 925, name: 'Mauskhold', level: 50, health: 160, maxHealth: 160, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/925.png', moves: [{ name: 'Population Bomb', damage: 20 }, { name: 'Play Rough', damage: 50 }, { name: 'Bullet Seed', damage: 30 }, { name: 'Baton Pass', damage: 0 }] },
            { id: 1000, name: 'Gholdengo', level: 70, health: 200, maxHealth: 200, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1000.png', moves: [{ name: 'Make It Rain', damage: 75 }, { name: 'Shadow Ball', damage: 60 }, { name: 'Flash Cannon', damage: 65 }, { name: 'Recover', damage: -50 }] },
            { id: 1001, name: 'Wo-Chien', level: 75, health: 280, maxHealth: 280, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1001.png', moves: [{ name: 'Foul Play', damage: 70 }, { name: 'Giga Drain', damage: -30 }, { name: 'Stun Spore', damage: 0 }, { name: 'Ruination', damage: 40 }] },
            { id: 1002, name: 'Chien-Pao', level: 75, health: 240, maxHealth: 240, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1002.png', moves: [{ name: 'Sacred Sword', damage: 75 }, { name: 'Sucker Punch', damage: 55 }, { name: 'Ice Spinner', damage: 60 }, { name: 'Ice Shard', damage: 30 }] },
            { id: 1003, name: 'Ting-Lu', level: 75, health: 350, maxHealth: 350, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1003.png', moves: [{ name: 'Earthquake', damage: 80 }, { name: 'Ruination', damage: 40 }, { name: 'Stone Edge', damage: 70 }, { name: 'Heavy Slam', damage: 65 }] },
            { id: 1004, name: 'Chi-Yu', level: 75, health: 210, maxHealth: 210, sprite: 'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/1004.png', moves: [{ name: 'Overheat', damage: 85 }, { name: 'Dark Pulse', damage: 60 }, { name: 'Flamethrower', damage: 65 }, { name: 'Psychic', damage: 70 }] },
        ];

        // --- Tournament Variables ---
        let playerPokemon = null;
        let opponentPokemon = null;
        let selectedPokemonId = null;
        let currentRound = 1;
        const totalRounds = 8; // Example: Quarter-finals (3), Semi-finals (2), Final (1) = 6 rounds. Let's make it 8 for a longer challenge!
        const maxOpponentLevel = 100;

        // --- DOM Elements ---
        const $startScreen = document.getElementById('start-screen');
        const $battleScreen = document.getElementById('battle-screen');
        const $pokemonSelection = document.getElementById('pokemon-selection');
        const $startBattleButton = document.getElementById('start-battle-button');
        const $pokemonSearch = document.getElementById('pokemon-search');
        const $message = document.getElementById('message');
        const $actionsContainer = document.getElementById('actions-container');
        const $continueContainer = document.getElementById('continue-container');
        const $continueButton = document.getElementById('continue-button');
        const $restartButtonMidTournament = document.getElementById('restart-button-mid-tournament');
        const $tournamentEndContainer = document.getElementById('tournament-end-container');
        const $restartButtonEnd = document.getElementById('restart-button-end');
        const $roundInfo = document.getElementById('round-info');
        const $opponentLevelRange = document.getElementById('opponent-level-range');

        // --- Utility Functions ---

        /**
         * Clones a Pokémon object to prevent modifying the original data.
         * @param {Object} pokemon The base Pokémon object from pokemonData.
         * @returns {Object} A deep copy of the Pokémon.
         */
        function clonePokemon(pokemon) {
            return JSON.parse(JSON.stringify(pokemon));
        }

        /**
         * Updates a Pokémon's stats based on a target level.
         * This simulates stronger opponents in later rounds.
         * @param {Object} pokemon The Pokémon object to update.
         * @param {number} targetLevel The desired level.
         */
        function scalePokemonToLevel(pokemon, targetLevel) {
            const levelIncrease = targetLevel - pokemon.level;
            
            // Simplified HP scaling for opponents
            const hpScaleFactor = 1 + (levelIncrease * 0.05);
            pokemon.maxHealth = Math.round(pokemon.maxHealth * hpScaleFactor);
            pokemon.health = pokemon.maxHealth;
            pokemon.level = targetLevel;

            // Simplified move damage scaling
            pokemon.moves.forEach(move => {
                if (move.damage > 0) {
                    move.damage = Math.round(move.damage * (1 + (levelIncrease * 0.02)));
                }
            });
        }

        /**
         * Selects a random opponent Pokémon and scales it based on the current round.
         * @returns {Object} The opponent Pokémon object.
         */
        function selectRandomOpponent() {
            // Determine the target level for the opponent based on the current round
            const levelStep = (maxOpponentLevel - playerPokemon.level) / totalRounds;
            let targetLevel = playerPokemon.level + Math.round(levelStep * currentRound);
            targetLevel = Math.min(targetLevel, maxOpponentLevel);
            
            // Keep track of the level range displayed
            $opponentLevelRange.textContent = `Lv. ${targetLevel - 5} - ${targetLevel + 5}`;

            // Select a random Pokémon from the entire roster
            const randomIndex = Math.floor(Math.random() * pokemonData.length);
            const baseOpponent = clonePokemon(pokemonData[randomIndex]);
            
            // Randomize the final level within a small range
            const finalLevel = Math.max(1, targetLevel + Math.floor(Math.random() * 11) - 5);
            
            scalePokemonToLevel(baseOpponent, finalLevel);
            
            return baseOpponent;
        }

        /**
         * Updates the HP bar visuals.
         * @param {Object} pokemon The Pokémon whose HP is being updated.
         * @param {HTMLElement} nameElement The element for the Pokémon's name.
         * @param {HTMLElement} levelElement The element for the Pokémon's level.
         * @param {HTMLElement} hpBarElement The HP bar div element.
         * @param {HTMLElement} currentHpElement The element for current HP text.
         * @param {HTMLElement} maxHpElement The element for max HP text.
         */
        function updateUI(pokemon, nameElement, levelElement, hpBarElement, currentHpElement, maxHpElement) {
            const percentage = (pokemon.health / pokemon.maxHealth) * 100;

            nameElement.textContent = pokemon.name;
            levelElement.textContent = pokemon.level;
            hpBarElement.style.width = `${Math.max(0, percentage)}%`;
            currentHpElement.textContent = Math.max(0, pokemon.health);
            maxHpElement.textContent = pokemon.maxHealth;

            // Update health bar color
            if (percentage <= 20) {
                hpBarElement.classList.add('low-health');
            } else {
                hpBarElement.classList.remove('low-health');
            }
        }

        /**
         * Handles the visual effects of a Pokémon taking damage.
         * @param {HTMLElement} spriteElement The image element of the Pokémon.
         */
        function animateDamage(spriteElement) {
            spriteElement.style.animation = 'none';
            void spriteElement.offsetWidth; // Trigger reflow
            spriteElement.style.animation = 'shake 0.5s ease-in-out';
            setTimeout(() => {
                spriteElement.style.animation = 'none';
            }, 500);
        }

        /**
         * Disables the action buttons during battle animations/turns.
         */
        function disableActions() {
            Array.from($actionsContainer.children).forEach(btn => btn.disabled = true);
        }

        /**
         * Enables the action buttons when it's the player's turn.
         */
        function enableActions() {
            if (playerPokemon.health > 0 && opponentPokemon.health > 0) {
                Array.from($actionsContainer.children).forEach(btn => btn.disabled = false);
            }
        }
        
        // --- Core Game Logic ---

        /**
         * Applies damage or healing and updates the UI.
         * @param {Object} attacker The attacking Pokémon.
         * @param {Object} target The defending Pokémon.
         * @param {Object} move The move used.
         * @returns {string} The damage message.
         */
        function calculateAndApplyDamage(attacker, target, move) {
            let damage = move.damage;
            let message = `${attacker.name} used ${move.name}!`;

            if (damage === 0) {
                message += ` It had no effect.`;
            } else if (damage < 0) { // Healing/Stat Boost moves (Withdraw, Synthesis, Wish)
                const healAmount = Math.abs(damage);
                target.health = Math.min(target.maxHealth, target.health + healAmount);
                message += ` ${target.name} recovered ${healAmount} HP!`;
            } else {
                // Simplified damage calculation
                const baseDamage = damage;
                const minDamage = Math.floor(baseDamage * 0.8);
                const maxDamage = Math.floor(baseDamage * 1.2);
                damage = Math.floor(Math.random() * (maxDamage - minDamage + 1)) + minDamage;
                
                target.health -= damage;
                message += ` It dealt ${damage} damage!`;
                
                animateDamage(target === playerPokemon ? document.getElementById('player-sprite') : document.getElementById('opponent-sprite'));
            }

            target.health = Math.max(0, target.health);

            // Update UI for the damaged Pokémon
            if (target === playerPokemon) {
                updateUI(playerPokemon, 
                    document.getElementById('player-name'), 
                    document.getElementById('player-level'), 
                    document.getElementById('player-hp-bar'), 
                    document.getElementById('player-current-hp'), 
                    document.getElementById('player-max-hp'));
            } else {
                updateUI(opponentPokemon, 
                    document.getElementById('opponent-name'), 
                    document.getElementById('opponent-level'), 
                    document.getElementById('opponent-hp-bar'), 
                    document.getElementById('opponent-current-hp'), 
                    document.getElementById('opponent-max-hp'));
            }
            
            return message;
        }

        /**
         * Executes one turn of the battle.
         * @param {Object} playerMove The move selected by the player.
         */
        async function executeTurn(playerMove) {
            disableActions();

            const opponentMove = opponentPokemon.moves[Math.floor(Math.random() * opponentPokemon.moves.length)];
            
            let firstAttacker = playerPokemon;
            let secondAttacker = opponentPokemon;
            let firstMove = playerMove;
            let secondMove = opponentMove;

            // Simplified speed tie: Player always goes first if levels are equal.
            // Opponent goes first if higher level (simulating higher speed).
            if (opponentPokemon.level > playerPokemon.level) {
                firstAttacker = opponentPokemon;
                secondAttacker = playerPokemon;
                firstMove = opponentMove;
                secondMove = playerMove;
            }

            // --- First Attack ---
            await displayMessage(calculateAndApplyDamage(firstAttacker, secondAttacker, firstMove));
            await new Promise(r => setTimeout(r, 1500)); 

            if (checkBattleEnd()) return;

            // --- Second Attack (if second attacker is still alive) ---
            await displayMessage(calculateAndApplyDamage(secondAttacker, firstAttacker, secondMove));
            await new Promise(r => setTimeout(r, 1500)); 

            if (checkBattleEnd()) return;

            // Re-enable actions for the next turn
            displayMessage(`What will **${playerPokemon.name}** do?`);
            enableActions();
        }

        /**
         * Displays a message in the message box with a delay.
         * @param {string} msg The message to display.
         */
        function displayMessage(msg) {
            return new Promise(resolve => {
                $message.innerHTML = msg;
                setTimeout(() => resolve(), 1000); // Shorter delay for quicker battles
            });
        }

        /**
         * Checks the battle status and handles win/loss conditions.
         * @returns {boolean} True if the battle ended, false otherwise.
         */
        function checkBattleEnd() {
            if (playerPokemon.health <= 0) {
                endTournament(false);
                return true;
            } else if (opponentPokemon.health <= 0) {
                endRound(true);
                return true;
            }
            return false;
        }

        // --- Tournament Logic ---

        /**
         * Starts the selected round of the tournament.
         */
        function startRound() {
            // Player's Pokémon status carries over
            playerPokemon.health = Math.max(1, playerPokemon.health); // Ensure player doesn't start at 0 HP after healing/mods
            opponentPokemon = selectRandomOpponent();

            // Update Header
            $roundInfo.textContent = `ROUND ${currentRound} of ${totalRounds}`;

            // Update Sprites
            document.getElementById('player-sprite').src = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/back/${playerPokemon.id}.png`;
            document.getElementById('opponent-sprite').src = opponentPokemon.sprite;

            // Update UI
            updateUI(playerPokemon, 
                document.getElementById('player-name'), 
                document.getElementById('player-level'), 
                document.getElementById('player-hp-bar'), 
                document.getElementById('player-current-hp'), 
                document.getElementById('player-max-hp'));
            
            updateUI(opponentPokemon, 
                document.getElementById('opponent-name'), 
                document.getElementById('opponent-level'), 
                document.getElementById('opponent-hp-bar'), 
                document.getElementById('opponent-current-hp'), 
                document.getElementById('opponent-max-hp'));

            // Set up actions
            $actionsContainer.innerHTML = '';
            playerPokemon.moves.forEach(move => {
                const btn = document.createElement('button');
                btn.className = 'px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg shadow-md transition-colors duration-200';
                btn.textContent = move.name;
                btn.onclick = () => executeTurn(move);
                $actionsContainer.appendChild(btn);
            });

            // Start battle
            $continueContainer.classList.add('hidden');
            $actionsContainer.classList.remove('hidden');
            displayMessage(`A Trainer challenges you with **Level ${opponentPokemon.level} ${opponentPokemon.name}**!`);
            enableActions();
        }

        /**
         * Ends the current round and prepares for the next or ends the tournament.
         * @param {boolean} playerWon True if the player won the round.
         */
        function endRound(playerWon) {
            disableActions();
            $actionsContainer.classList.add('hidden');

            if (playerWon) {
                currentRound++;
                if (currentRound > totalRounds) {
                    endTournament(true);
                } else {
                    displayMessage(`**${playerPokemon.name}** won Round ${currentRound - 1}! Proceed to the next round, but beware, opponents are getting stronger! Current HP: **${playerPokemon.health}/${playerPokemon.maxHealth}**.`);
                    $continueContainer.classList.remove('hidden');
                }
            } else {
                endTournament(false);
            }
        }

        /**
         * Ends the entire tournament.
         * @param {boolean} playerWon True if the player won the final round/tournament.
         */
        function endTournament(playerWon) {
            disableActions();
            $actionsContainer.classList.add('hidden');
            $continueContainer.classList.add('hidden');
            $tournamentEndContainer.classList.remove('hidden');

            if (playerWon) {
                $message.innerHTML = `🌟 **TOURNAMENT CHAMPION!** 🌟<br>You have defeated ${totalRounds} trainers and won the grand prize with your **${playerPokemon.name}**!`;
                document.getElementById('tournament-header').classList.remove('bg-yellow-500');
                document.getElementById('tournament-header').classList.add('bg-green-500');
                document.getElementById('tournament-header').textContent = 'CHAMPION!';
            } else {
                $message.innerHTML = `Your **${playerPokemon.name}** fainted! You made it to Round **${currentRound}**. Better luck next time!`;
                document.getElementById('tournament-header').classList.remove('bg-yellow-500');
                document.getElementById('tournament-header').classList.add('bg-red-500');
                document.getElementById('tournament-header').textContent = 'DEFEATED!';
            }
        }

        /**
         * Resets the entire game to the selection screen.
         */
        function restartGame() {
            currentRound = 1;
            playerPokemon = null;
            selectedPokemonId = null;
            $startScreen.classList.remove('hidden');
            $battleScreen.classList.add('hidden');
            $startBattleButton.classList.add('hidden');
            $tournamentEndContainer.classList.add('hidden');
            document.getElementById('tournament-header').classList.remove('bg-green-500', 'bg-red-500');
            document.getElementById('tournament-header').classList.add('bg-yellow-500');
            document.getElementById('tournament-header').textContent = 'ROUND 1 - Opponent Level:';
            document.getElementById('selection-heading').textContent = 'Choose Your Pokémon for the Tournament!';
            generatePokemonCards(pokemonData);
        }

        // --- Initial Setup Functions (Mostly unchanged but adapted) ---

        /**
         * Generates the selectable Pokémon cards on the start screen.
         * @param {Array} filteredData The list of Pokémon to display.
         */
        function generatePokemonCards(filteredData) {
            $pokemonSelection.innerHTML = '';
            filteredData.forEach(p => {
                const card = document.createElement('div');
                card.id = `pokemon-${p.id}`;
                card.className = `pokemon-card p-2 bg-gray-700 rounded-lg text-center transform transition duration-200 hover:shadow-xl hover:scale-105 ${p.id === selectedPokemonId ? 'selected' : ''}`;
                card.innerHTML = `
                    <img class="pokemon-img w-20 h-20 mx-auto" src="${p.sprite}" alt="${p.name}">
                    <div class="text-sm font-semibold">${p.name}</div>
                    <div class="text-xs text-gray-400">Lv. ${p.level}</div>
                `;
                card.onclick = () => selectPokemon(p.id);
                $pokemonSelection.appendChild(card);
            });
        }

        /**
         * Handles the player's selection of a Pokémon.
         * @param {number} id The ID of the selected Pokémon.
         */
        function selectPokemon(id) {
            // Deselect previous
            if (selectedPokemonId) {
                document.getElementById(`pokemon-${selectedPokemonId}`).classList.remove('selected');
            }
            
            // Select new
            selectedPokemonId = id;
            document.getElementById(`pokemon-${id}`).classList.add('selected');
            $startBattleButton.textContent = `Begin Round 1 with ${pokemonData.find(p => p.id === id).name}!`;
            $startBattleButton.classList.remove('hidden');
        }

        /**
         * Event listener for the search bar.
         */
        $pokemonSearch.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filtered = pokemonData.filter(p => p.name.toLowerCase().includes(searchTerm));
            generatePokemonCards(filtered);
        });

        // --- Main Event Listeners ---
        
        $startBattleButton.addEventListener('click', () => {
            if (selectedPokemonId) {
                const selectedBase = pokemonData.find(p => p.id === selectedPokemonId);
                playerPokemon = clonePokemon(selectedBase);

                $startScreen.classList.add('hidden');
                $battleScreen.classList.remove('hidden');
                
                // Start the first round
                startRound();
            }
        });

        $continueButton.addEventListener('click', startRound);
        $restartButtonMidTournament.addEventListener('click', restartGame);
        $restartButtonEnd.addEventListener('click', restartGame);

        // --- Initial Load ---
        window.onload = () => {
            generatePokemonCards(pokemonData);
        };
    </script>
</body>
</html>
